{"message":"`match` arms have incompatible types","code":{"code":"E0308","explanation":"Expected type did not match the received type.\n\nErroneous code examples:\n\n```compile_fail,E0308\nfn plus_one(x: i32) -> i32 {\n    x + 1\n}\n\nplus_one(\"Not a number\");\n//       ^^^^^^^^^^^^^^ expected `i32`, found `&str`\n\nif \"Not a bool\" {\n// ^^^^^^^^^^^^ expected `bool`, found `&str`\n}\n\nlet x: f32 = \"Not a float\";\n//     ---   ^^^^^^^^^^^^^ expected `f32`, found `&str`\n//     |\n//     expected due to this\n```\n\nThis error occurs when an expression was used in a place where the compiler\nexpected an expression of a different type. It can occur in several cases, the\nmost common being when calling a function and passing an argument which has a\ndifferent type than the matching type in the function declaration.\n"},"level":"error","spans":[{"file_name":"final-project/state-machine-atm/src/atm.rs","byte_start":2760,"byte_end":2773,"line_start":94,"line_end":94,"column_start":27,"column_end":40,"is_primary":true,"text":[{"text":"            (state, _) => state.clone(), // If the transition is not allowed, stay in the same state","highlight_start":27,"highlight_end":40}],"label":"expected `Auth`, found `&Auth`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"final-project/state-machine-atm/src/atm.rs","byte_start":2527,"byte_end":2558,"line_start":91,"line_end":91,"column_start":61,"column_end":92,"is_primary":false,"text":[{"text":"            (Auth::Waiting, Action::SwipeCard(pin_hash)) => Auth::Authenticating(*pin_hash),","highlight_start":61,"highlight_end":92}],"label":"this is found to be of type `Auth`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"final-project/state-machine-atm/src/atm.rs","byte_start":2631,"byte_end":2650,"line_start":92,"line_end":92,"column_start":72,"column_end":91,"is_primary":false,"text":[{"text":"            (Auth::Authenticating(_), Action::PressKey(Key::Enter)) => Auth::Authenticated,","highlight_start":72,"highlight_end":91}],"label":"this is found to be of type `Auth`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"final-project/state-machine-atm/src/atm.rs","byte_start":2719,"byte_end":2732,"line_start":93,"line_end":93,"column_start":68,"column_end":81,"is_primary":false,"text":[{"text":"            (Auth::Authenticated, Action::PressKey(Key::Enter)) => Auth::Waiting,","highlight_start":68,"highlight_end":81}],"label":"this is found to be of type `Auth`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"final-project/state-machine-atm/src/atm.rs","byte_start":2439,"byte_end":2844,"line_start":90,"line_end":95,"column_start":9,"column_end":10,"is_primary":false,"text":[{"text":"        match (starting_state, t) {","highlight_start":9,"highlight_end":36},{"text":"            (Auth::Waiting, Action::SwipeCard(pin_hash)) => Auth::Authenticating(*pin_hash),","highlight_start":1,"highlight_end":93},{"text":"            (Auth::Authenticating(_), Action::PressKey(Key::Enter)) => Auth::Authenticated,","highlight_start":1,"highlight_end":92},{"text":"            (Auth::Authenticated, Action::PressKey(Key::Enter)) => Auth::Waiting,","highlight_start":1,"highlight_end":82},{"text":"            (state, _) => state.clone(), // If the transition is not allowed, stay in the same state","highlight_start":1,"highlight_end":101},{"text":"        }","highlight_start":1,"highlight_end":10}],"label":"`match` arms have incompatible types","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`Auth` does not implement `Clone`, so `&Auth` was cloned instead","code":null,"level":"note","spans":[{"file_name":"final-project/state-machine-atm/src/atm.rs","byte_start":2760,"byte_end":2765,"line_start":94,"line_end":94,"column_start":27,"column_end":32,"is_primary":true,"text":[{"text":"            (state, _) => state.clone(), // If the transition is not allowed, stay in the same state","highlight_start":27,"highlight_end":32}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null},{"message":"consider annotating `Auth` with `#[derive(Clone)]`","code":null,"level":"help","spans":[{"file_name":"final-project/state-machine-atm/src/atm.rs","byte_start":679,"byte_end":679,"line_start":29,"line_end":29,"column_start":1,"column_end":1,"is_primary":true,"text":[{"text":"enum Auth {","highlight_start":1,"highlight_end":1}],"label":null,"suggested_replacement":"#[derive(Clone)]\n","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror[E0308]\u001b[0m\u001b[0m\u001b[1m: `match` arms have incompatible types\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0mfinal-project/state-machine-atm/src/atm.rs:94:27\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m90\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m/\u001b[0m\u001b[0m \u001b[0m\u001b[0m        match (starting_state, t) {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m91\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            (Auth::Waiting, Action::SwipeCard(pin_hash)) => Auth::Authenticating(*pin_hash),\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                                             \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m-------------------------------\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12mthis is found to be of type `Auth`\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m92\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            (Auth::Authenticating(_), Action::PressKey(Key::Enter)) => Auth::Authenticated,\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                                                        \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m-------------------\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12mthis is found to be of type `Auth`\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m93\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            (Auth::Authenticated, Action::PressKey(Key::Enter)) => Auth::Waiting,\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                                                    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m-------------\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12mthis is found to be of type `Auth`\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m94\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            (state, _) => state.clone(), // If the transition is not allowed, stay in the same state\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                           \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9mexpected `Auth`, found `&Auth`\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m95\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        }\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|_________-\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m`match` arms have incompatible types\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;10mnote\u001b[0m\u001b[0m: `Auth` does not implement `Clone`, so `&Auth` was cloned instead\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0mfinal-project/state-machine-atm/src/atm.rs:94:27\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m94\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            (state, _) => state.clone(), // If the transition is not allowed, stay in the same state\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m                          \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;10m^^^^^\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: consider annotating `Auth` with `#[derive(Clone)]`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m29\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[38;5;10m#[derive(Clone)]\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\n"}
{"message":"aborting due to previous error","code":null,"level":"error","spans":[],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: aborting due to previous error\u001b[0m\n\n"}
{"message":"For more information about this error, try `rustc --explain E0308`.","code":null,"level":"failure-note","spans":[],"children":[],"rendered":"\u001b[0m\u001b[1mFor more information about this error, try `rustc --explain E0308`.\u001b[0m\n"}
